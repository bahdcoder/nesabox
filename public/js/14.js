(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{DUoa:function(e,t,r){"use strict";r.r(t);function s(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var a={data:function(){return{loading:!0,showOnlyOwnServers:!1,table:{headers:[{label:"Name",value:"name"},{label:"IP Address",value:"ip_address"},{label:"Status",value:"status"},{label:"Type",value:"type"}]},interval:null}},computed:{servers:function(){var e=this,t=[];return this.$root.allServers.team_servers.forEach((function(r){t=[].concat(s(e.$root.allServers.servers),s(r.team.servers))})),t},subscription:function(){return this.user.subscription},user:function(){return this.$root.auth},addServerButtonLabel:function(){return this.user.can_create_more_servers?"Add new server":"Upgrade to add more servers"}},mounted:function(){var e=this;this.fetchServers().then((function(){e.subscribeServers()}))},methods:{fetchServers:function(){var e=this;return axios.get("/api/servers").then((function(t){var r=t.data;e.loading=!1,e.$root.allServers=r}))},routeToServer:function(e){this.$router.push("/servers/".concat(e.id))},toggleShowOwnServers:function(){this.showOnlyOwnServers=!this.showOnlyOwnServers},subscribeServers:function(){this.interval=setInterval(this.fetchServers,1e4)}},beforeDestroy:function(){clearInterval(this.interval)}},i=r("KHd+"),o=Object(i.a)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("layout",[r("div",{staticClass:"bg-white px-4 py-5 border-b border-gray-200 sm:px-6 rounded-t"},[r("div",{staticClass:"-ml-4 -mt-2 flex items-center justify-between flex-wrap sm:flex-no-wrap"},[r("div",{staticClass:"ml-4 mt-2"},[r("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900"},[e._v("\n                    Servers\n                ")])]),e._v(" "),r("div",{staticClass:"ml-4 mt-2 flex-shrink-0 flex items-center"},[r("span",{staticClass:"inline-flex rounded-md shadow-sm"},[r("v-button",{attrs:{component:"router-link",label:e.addServerButtonLabel,to:"Upgrade to add more servers"===e.addServerButtonLabel?"/account/subscription":"/servers/create"}})],1)])])]),e._v(" "),e.loading||0!==e.servers.length?e._e():r("div",{staticClass:"w-full flex px-6 py-12 justify-center items-center bg-white shadow"},[r("p",[e._v("No servers yet.")])]),e._v(" "),e.loading||0===e.servers.length?e._e():r("div",{staticClass:"w-full bg-white"},[r("v-table",{attrs:{headers:e.table.headers,rows:e.servers},on:{"row-clicked":e.routeToServer},scopedSlots:e._u([{key:"row",fn:function(t){var s=t.row,n=t.header;return["ip_address"===n.value?r("span",{staticClass:"inline-flex text-xs leading-5 font-semibold rounded-full capitalize"},[e._v("\n                    "+e._s(s.ip_address)+"\n                ")]):e._e(),e._v(" "),"type"===n.value?r("span",{staticClass:"inline-flex text-xs leading-5 font-semibold rounded-full capitalize text-gray-700"},[e._v("\n                    "+e._s(s.type.split("_").join(" "))+"\n                ")]):e._e(),e._v(" "),"status"===n.value?r("table-status",{attrs:{status:s.status}}):e._e(),e._v(" "),"name"===n.value?r("div",{staticClass:"flex items-center"},[r("div",{staticClass:"flex-shrink-0 h-6 w-6"},["linode"!==s.provider?r("v-svg",{staticClass:"w-6 h-6",attrs:{icon:s.provider}}):e._e(),e._v(" "),"linode"===s.provider?r("v-svg",{attrs:{icon:s.provider,width:30,height:30}}):e._e()],1),e._v(" "),r("div",{staticClass:"ml-4"},[r("div",{staticClass:"text-sm leading-5 font-medium text-gray-900"},[e._v("\n                            "+e._s(s[n.value])+"\n                        ")])])]):e._e()]}}],null,!1,652408091)})],1)])}),[],!1,null,null,null);t.default=o.exports}}]);