(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{HUZF:function(e,t,a){"use strict";a.r(t);var n={data:function(){return{table:{headers:[{label:"Email",value:"email"},{label:"Status",value:"status"},{label:"",value:"actions"}]},form:{email:""},validated:!1,removingMember:null,removingMemberLoading:!1}},computed:{subscription:function(){return this.$root.auth.subscription},teamInvites:function(){return this.team.invites},team:function(){var e=this;return this.$root.auth.teams.find((function(t){return t.id===e.$route.params.id}))}},mounted:function(){this.initializeForm("/api/teams/".concat(this.$route.params.id,"/invites")),this.team?this.validated=!0:this.$router.push("/account/teams")},methods:{submit:function(){var e=this;this.submitForm().then((function(t){e.$root.auth=t,e.form={email:""},e.$root.flashMessage("Team invite has been sent.")})).catch((function(t){e.$root.flashMessage(t.data.message||"Failed sending team invite.","error")}))},removeMember:function(){var e=this;this.removingMemberLoading=!0,axios.delete("/api/invites/".concat(this.removingMember.id)).then((function(t){var a=t.data;e.removingMember=null,e.removingMemberLoading=!1,e.$root.auth=a,e.$root.flashMessage("Member removed.")})).catch((function(t){e.removingMember=null,e.removingMemberLoading=!1,e.$root.flashMessage(t.response.data.message||"Failed to remove member.")}))},setRemoveMember:function(e){this.removeMemberConfirming=!0,this.removingMember=e}}},i=a("KHd+"),s=Object(i.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("account-layout",[e.validated?a("template",{slot:"content"},[a("flash"),e._v(" "),a("confirm-modal",{attrs:{open:!!e.removingMember,confirmHeading:"Remove member",confirming:e.removingMemberLoading,confirmText:"Are you sure you want to revoke this member's access to this team and its servers?"},on:{confirm:e.removeMember,close:function(t){e.removingMember=null}}}),e._v(" "),"business"!==e.subscription.plan?a("card",{attrs:{title:"Upgrade your plan to add teams"}},[a("v-button",{attrs:{label:"Upgrade to Business",component:"router-link",to:"/account/subscription"}})],1):a("div",[a("card",{staticClass:"mb-5",attrs:{title:"Invite new team member"}},[a("template",{slot:"header"},[a("div",{staticClass:"w-full flex justify-between items-center"},[a("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900 capitalize"},[e._v("\n                            Invite new team member ("+e._s(e.team.name)+")\n                        ")]),e._v(" "),a("router-link",{staticClass:"mr-5 text-sha-green-500",staticStyle:{"text-decoration":"underline"},attrs:{to:"/account/teams"}},[e._v("\n                            Back to teams\n                        ")])],1)]),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("text-input",{attrs:{name:"email",label:"Email",placeholder:"member@email.com",errors:e.formErrors.name,help:"Provide an email to invite to team."},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),a("v-button",{staticClass:"mt-5",attrs:{type:"submit",label:"Add team member",loading:e.submitting}})],1)],2),e._v(" "),a("card",{attrs:{table:!0,title:"Team Members ("+e.team.name+")",rowsCount:e.teamInvites.length,emptyTableMessage:"No team invites sent yet."}},[a("v-table",{attrs:{headers:e.table.headers,rows:e.teamInvites},scopedSlots:e._u([{key:"row",fn:function(t){var n=t.row,i=t.header;return["email"===i.value?a("span",{staticClass:"text-gray-800"},[e._v(e._s(n[i.value]))]):e._e(),e._v(" "),"status"===i.value?a("table-status",{attrs:{status:n.status}}):e._e(),e._v(" "),"actions"===i.value?a("div",[a("delete-button",{on:{click:function(t){e.removingMember=n}}})],1):e._e()]}}],null,!1,1221801649)})],1)],1)],1):e._e()],2)}),[],!1,null,null,null);t.default=s.exports}}]);